{% extends 'molde.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/create_user.css' %}">
{% endblock css %}

{% block content %}
    <div class="wrapper_tittle">
        <h1>CREAR USUARIO</h1>
    </div>

    <form method="POST"  autocomplete="off" id="form_create_user">
            {% csrf_token %}
            <h2>Datos personales</h2>
            <div class="datosPersonalesWrapper">
                <div class="inputWrapper" id="nombreCompletoWrapper">
                    <label for="">{{form.nombre.label}}</label>
                    <input id="id_nombre" type="text" value="{{form.nombre.value}}" name="nombre" class="input-read-write-default" required>
                    {% for error in form.nombre.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                    
                    
                </div>
                <div class="inputWrapper" id="dniWrapper">
                    
                    <label for=""> {{form.dni.label}}</label>
                    <input type="text" maxlength="9" name="dni" value="{{form.dni.value}}" class="input-read-write-default" required>
                    {% for error in form.dni.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                    

                </div>
                <div class="inputWrapper" id="telefonoWrapper">
                    
                    <label for="">{{form.tel.label}}</label>
                    <input type="text" name="tel" value="{{form.tel.value}}" class="input-read-write-default" required>
                    {% for error in form.tel.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>

                <div class="inputWrapper" id="fechaNacimientoWrapper">
                    <label for="">{{form.fec_nacimiento.label}}</label>
                    <input type="text" name="fec_nacimiento" value="{{form.fec_nacimiento.value}}" class="input-read-write-default" required>
                    {% for error in form.fec_nacimiento.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>
                
                <div class="inputWrapper" id="domicWrapper">
                    <label for="">{{form.domic.label}}</label>
                    <input type="text" name="domic" value="{{form.domic.value}}" class="input-read-write-default" required>
                    {% for error in form.domic.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>

                <div class="inputWrapper" id="provWrapper">
                    
                    <label for="">{{form.prov.label}}</label>
                    <input type="text" name="prov" value="{{form.prov.value}}" class="input-read-write-default" required>
                    {% for error in form.prov.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>

                <div class="inputWrapper" id="locWrapper">
                    
                    <label for="">{{form.loc.label}}</label>
                    <input type="text" name="loc" value="{{form.loc.value}}" class="input-read-write-default" required>
                    {% for error in form.loc.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>
                <div class="inputWrapper" id="cpWrapper">
                    <label for="">{{form.cp.label}}</label>
                    <input type="text" name="cp" value="{{form.cp.value}}" class="input-read-write-default" required>
                    {% for error in form.cp.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>
                <div class="inputWrapper" id="lugarNacimientoWrapper">
                    <label for="">{{form.lugar_nacimiento.label}}</label>
                    <input type="text" name="lugar_nacimiento" value="{{form.lugar_nacimiento.value}}" class="input-read-write-default" required>
                    {% for error in form.lugar_nacimiento.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>

                
                <div class="inputWrapper" id="estadoCivilWrapper">
                    <label for="">{{form.estado_civil.label}}</label>
                    <input type="text" name="estado_civil" value="{{form.estado_civil.value}}" class="input-read-write-default" required>
                    {% for error in form.estado_civil.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>

                <div class="inputWrapper" id="xpLaboralWrapper">
                    <label for="">{{form.xp_laboral.label}}</label>
                    <textarea cols="30" rows="10" value="{{form.xp_laboral.value}}" name="xp_laboral" class="input-read-write-default" required></textarea>
                        
                    {% for error in form.xp_laboral.errors %}
                        <p>{{error}}</p>
                    {% endfor %}
                </div>
                <br>
                <div class ="inputWrapper" id="familiares">
                    <label for="">Datos familiares</label>
                    
                    <div class="familiar">
                        <input type="text" name="familia_relacion_0" placeholder="Relación con el usuario">
                        <input type="text" name="familia_nombre_0" placeholder="Nombre">
                        <input type="text" name="familia_tel_0" placeholder="Teléfono">
                    </div>
                    <button type="button" id="agregar_familiar_button"onclick="agregarFamiliar()">Agregar Familiar</button>

                </div>
            </div>

            <h2>Datos logisticos</h2>
            <div class="datosLogisticosWrapper">
                <div class="inputsObligatorios">
                    <div class="inputWrapper" id="sucursalWrapper">
                        <label for="">Sucursal</label>
                        <input type="text" name="sucursal" id="sucursalInput" required="required" autocomplete="off" maxlength="50" class="selectInput input-read-write-default onlySelect">
                        {% for error in form.sucursal.errors %}
                            <p>{{error}}</p>
                        {% endfor %}
                        <ul id="contenedorAgencia" class="select">
                            {% for agencia in sucursales %}
                                <li>{{agencia.pk}}</li>
                                {% comment %} <li>{{agencia.pseudonimo}}</li> {% endcomment %}
                            {% endfor %}
                        </ul>
                        
                        
                    </div>
                    
                    <div class="inputWrapper" id="rolWrapper">
                        
                        <label for="">{{form.rango.label}}</label>
                        <input type="text" name="rango" class="onlySelect input-read-write-default" required>
                        {% for error in form.rango.errors %}
                            <p>{{error}}</p>
                        {% endfor %}
                        <ul id="contenedorRol" class="select">
                            {% for  rol in roles %}
                                <li>{{rol}}</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="inputWrapper" id="fec_ingresoWrapper">
                        <label for="">{{form.fec_ingreso.label}}</label>
                        <input type="text" name="fec_ingreso" class="input-read-write-default" required>
                        {% for error in form.fec_ingreso.errors %}
                            <p>{{error}}</p>
                        {% endfor %}
                    </div>

                    <div class="inputWrapper" id="emailWrraper">
                        <label for="id_email">{{form.email.label}}</label>
                        <input type="text" name="email" class="input-read-write-default" required>

                        {% for error in form.email.errors %}
                            <p>{{error}}</p>
                        {% endfor %}
                    </div>

                    <div class="inputWrapper" id="password1Wrapper">
                        
                        <label for="">Contraseña</label>
                        <input type="text" name="password" class="input-read-write-default" required>
                        {% comment %} <button type="button" onclick="mostrarContraseña()">Mostrar contraseña</button> {% endcomment %}
                    </div>
                </div>


                <div id="vendedoresWrapper">
                    <div class="textContainer">
                        <h3>Elija los vendedores</h3>
                    </div>
                    <div class="listVendedores">
                        <div class="containerList">
                            <div class="items" id="itemsVendedores">
                                <ul>
                                    
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                
            </div>

    </form>
    <div class="wrapperButtons">
        <button type="submit" id="saveButton" form="form_create_user">Guardar</button>
        <a id ="cancelar" href="{% url 'users:list_users' %}"> Cancelar </a>
    </div>
{% endblock content %}
{% block js %}
    <script src="{% static 'js/input_select_create_user.js' %}"></script>
    <script src="{% static 'js/agregarFamiliar.js' %}"></script>
    {% comment %} <script src="{% static 'js/asignarVendedores.js' %}"></script> {% endcomment %}
    <script src="{% static 'js/redirectToPDFNewUser.js' %}"></script>    
{% endblock js %}